<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="icon" th:href="@{/img/ico/ico.ico}" type="image/x-icon">
    <link rel="stylesheet" th:href="@{/fontawesome-free-6.6.0-web/css/all.css}">
    <link rel="stylesheet" th:href="@{/bootstrap/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/dataTable-bootstrap.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/choice.css}">


    <script type="text/javascript" th:src="@{/js/jquery.js}"></script>
    <script th:src="@{/bootstrap/js/bootstrap.bundle.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/dataTable.js}"></script>
    <script type="text/javascript" th:src="@{/js/dataTable-bootstrap.js}"></script>
    <script type="text/javascript" th:src="@{/js/choice.js}"></script>

    <title>Gestion des commandes: Veron</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            font-size:15px;
            margin: 0;
            padding: 0;
            color: black;
        }

        .sidebar {
            width: 250px;
            height: 100vh;
            position: fixed;
            padding: 20px;
            color: white;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.2);
        }

        .titreApp {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 25px;
            text-align: center;
            letter-spacing: 1px;
            color: white;
            box-shadow:0px 0px 4px white;
        }

        .nav-link {
            font-size: 15px;
            margin: 15px 0;
            padding: 15px;
            background-color: transparent;
            color: white;
            border-radius: 12px;
            transition: background-color 0.3s, transform 0.3s;
            display: flex;
            align-items: center;
            font-weight:bold;
        }

        .nav-link:hover {
            background-color:white;
            color: black;
            transform: translateX(10px);
        }

        .nav-link i {
            margin-right: 10px;
        }

        .nav-item {
            color:white;
        }

        .nomUtil {
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 9px;
            font-style:italic;
            color: black;
            display: flex;
            align-items: center;
            gap:10px;
            padding: 5px;
            z-index: 500;
        }

        .nomUtil h6 {
            margin: 0;
            margin-right: 10px;
        }



        footer {
            font-size: 15px;
            width: 100%;
            position: fixed;
            bottom: 0;
            left: 0;
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            height: 25px;
            color: white;
        }



#toast_alert{
    position:absolute;
    right:5px;
    bottom:5px;
    opacity:0.8;
    padding:5%;
    font-size:15px;
    }

.nav-item button{
border:none
}
 #form-store{display:none;}

  table{
          font-size:11px;
        }

    #container_purchase_order{
   position:absolute;
   left:19%;
   top:10%;
   display:none;
        }

 #container_stock{
   position:absolute;
   left:19%;
   top:10%;
   display:none;
        }

    </style>

</head>

<body>

<div class="d-flex" style="z-index:100">

    <nav class="sidebar bg-primary">
        <div class="titreApp">
            VERON
        </div>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link" th:href="@{/home}"><i class="fa-solid fa-house-user me-2"></i>Menu principal</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="viewBonCommande" style="font-size:14px"><i class="fas fa-shopping-cart me-2"></i>Commande<span class="ms-2 badge bg-danger" th:text="${{nb_bc}}"></span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" id="viewStock"><i class="fa-solid fa-cubes me-2"></i>Stock</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/invoice}"><i class="fa-solid fa-file-lines me-2"></i>Factures<span class="ms-2 badge bg-danger" th:text="${{mt_facture}}"></span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/reporting-stock}"><i class="fa-solid fa-database me-2"></i>Consulter</a>
            </li>
        </ul>

    </nav>

    <div class="nomUtil">
        <div class="d-flex justify-content-end mb-4">
            <div class="d-flex align-items-center">
                <h6 th:if="${cashier != 'pas de caisse'}"></h6>
                <i class="fa-solid fa-user"></i>
                <h6 class="mb-0 me-3" th:text="${nomUtil}+'/'+${cashier}"></h6>
                <form th:action="@{/logout}" method="post" class="me-3">
                    <button type="submit" class="btn btn-light"><i class="fas fa-sign-out-alt"></i></button>
                </form>
            </div>
        </div>
    </div>

</div>





    <div id="container_purchase_order">


        <div class="d-flex justify-content-center mb-3" id="btn_creation_purchase_order">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#creationBonDeCommande" role="button">
                Créer un bon de commande
            </button>
        </div>


        <div class="modal fade" id="creationBonDeCommande" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-xl">
                <div class="modal-content">
                    <div class="modal-header bg-primary">
                        <h6 class="modal-title text-light" id="titleCompteBancaire">Bon de commande</h6>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="modal-body">

                        <div class="row mb-1">
                            <div class="col-md-6">
                                <label for="paymentMethodOrder" class="form-label">Mode de paiement *</label>
                                <select id="paymentMethodOrder"  class="form-select" required>
                                    <option value="Sélectionner un mode de paiement" disabled selected>Sélectionner un mode de paiement</option>
                                    <option th:each="mode:${modes}" th:value="${mode.name}" th:text="${mode.name}"></option>
                                </select>
                            </div>

                            <div class="col-md-6">
                                <label for="enterpriseOrder" class="form-label">Entreprise *</label>
                                <select id="enterpriseOrder" class="form-select" required>
                                    <option value="" disabled selected>Sélectionner une entreprise</option>
                                </select>
                            </div>

                        </div>
                        <div class="row mb-1">
                            <div class="col-md-6">
                                <label for="agencyOrder" class="form-label">Agence *</label>
                                <select id="agencyOrder" class="form-select" required>
                                    <option value="" disabled selected>Sélectionner une agence</option>
                                </select>
                            </div>

                            <div class="col-md-6">
                                <label for="productOrder" class="form-label">Produit *</label>
                                <select type="select-one" id="productOrder" class="form-select" required>
                                    <option value="" disabled selected>Sélectionner un produit</option>
                                </select>
                            </div>

                        </div>


                        <div class="row mb-1">

                            <div class="col-md-6">
                                <label for="quantityOrder" class="form-label">Qté *</label>
                                <input type="number" id="quantityOrder"  class="form-control" placeholder="Quantité">
                            </div>

                            <div class="col-md-6">
                                <label for="stockFinalOrder" class="form-label">Stock</label>
                                <input type="number" id="stockFinalOrder"  class="form-control" placeholder="Quantité en stock" readonly>
                            </div>

                        </div>
                        <div class="row mb-2">
                            <div class="col-md-6">
                                <label for="priceOrder" class="form-label">Prix d'achat</label>
                                <input type="number" id="priceOrder"  class="choices__inner" placeholder="Prix d'achat" readonly>
                            </div>

                            <div class="col-md-6">
                                <label for="remiseOrder" class="form-label">Remise</label>
                                <input type="number" id="remiseOrder" value=0 class="form-control" placeholder="Remise">
                            </div>
                        </div>

                      <div class="d-flex justify-content-center mb-1">
                          <button data-bs-toggle="tooltip" data-bs-placement="top" title="Permet d'ajouter une ligne d'opération" class="btn btn-primary" id="btn_ajout_Order">Ajouter</button>
                      </div>
                          <div class="d-flex justify-content form-check form-switch d-none">
                              <input type="checkbox"  id="tva" value="T.V.A" class="form-check-input">
                              <label for="tva" class="form-label">T.V.A.</label>
                          </div>



                        <div class="row mb-1">
                            <table class="table table-striped table-hover" id="tableCommande">
                                <thead class="table-primary">
                                <tr>
                                    <th scope="col">Référence du produit</th>
                                    <th scope="col">Nom du produit</th>
                                    <th scope="col">Quantité</th>
                                    <th scope="col">Prix unitaire</th>
                                    <th scope="col">Prix total</th>
                                    <th scope="col">Action</th>
                                </tr>
                                </thead>
                                <tbody>

                                </tbody>
                                <tfoot class="table-primary">
                                <tr>
                                    <th colspan="1">Prix HT</th>
                                    <th colspan="1" id="priceHT">0</th>
                                    <th colspan="1">T.V.A.</th>
                                    <th colspan="1" id="totalTva">0</th>
                                    <th colspan="1">Total Général</th>
                                    <th colspan="1" id="priceTotalOrder">0</th>
                                </tr>
                                </tfoot>
                            </table>

                        </div>

                        <form th:action="@{/purchase-order}" method="post" th:object="${purchaseOrderDto}">

                            <div class="d-flex justify-content-center">
                                    <button type="submit" class="btn btn-primary" id="btn_validation_Order">Enregistrer</button>
                            </div>

                            <table class="table table-striped table-hover d-none" id="tablePurchaseOrder">
                                <tbody></tbody>
                            </table>

                            <div class="row d-none">
                                <div class="col-4">  <label for="enterprise"></label>
                                    <input type="text" name="enterprise" th:field="*{enterprise}" id="enterprise" class="form-control" readonly>
                                </div>
                                <div class="col-4">  <label for="agency"></label>
                                    <input type="text" name="agency" th:field="*{agency}" id="agency" class="form-control" readonly>
                                </div>
                                <div class="col-4"> <label for="s_priceHT"></label>
                                    <input type="number" name="priceHT" th:field="*{priceHT}" id="s_priceHT" class="form-control" readonly>
                                </div>
                            </div>

                            <div class="row d-none">
                                <div class="col-3"> <label for="s_tva"></label>
                                    <input type="text" name="tva" th:field="*{tva}" id="s_tva" class="form-control" readonly>
                                </div>
                                <div class="col-3">  <label for="priceTTC"></label>
                                    <input type="text" name="priceTTC" th:field="*{priceTTC}" id="priceTTC" class="form-control" readonly>
                                </div>
                                <div class="col-3"> <label for="s_remise"></label>
                                    <input type="text" name="remise" th:field="*{remise}" id="s_remise" class="form-control" readonly>
                                </div>
                                <div class="col-3"> <label for="s_paymentMethod"></label>
                                    <input type="text" name="paymentMethod" th:field="*{paymentMethod}" id="s_paymentMethod" class="form-control" readonly>
                                </div>

                            </div>
                        </form>


                    </div>
                </div>
            </div>
        </div>


        <table class="table table-striped table-hover" id="table_purchase">
            <thead class="table-primary">
            <th>id</th>
            <th>Date</th>
            <th>Référence</th>
            <th>Entreprise</th>
            <th>Agence</th>
            <th>Liste des produits</th>
            <th>Prix Total HT</th>
            <th>T.V.A.</th>
            <th>Prix Total TTC</th>
            <th>Remise</th>
            <th>Mode</th>
            <th>Statut</th>
            </thead>
            <tbody>
            <tr th:each="purchaseOrder:${purchaseOrders}">
                <td th:text="${purchaseOrder.idPurchaseOrder}"></td>
                <td th:text="${purchaseOrder.dateCreation}"></td>
                <td th:text="${purchaseOrder.refPurchaseOrder}"></td>
                <td th:text="${purchaseOrder.enterprise}"></td>
                <td th:text="${purchaseOrder.agency}"></td>
                <td th:text="${purchaseOrder.products}"></td>
                <td th:text="${{purchaseOrder.priceHT}}"></td>
                <td th:text="${{purchaseOrder.tva}}"></td>
                <td th:text="${{purchaseOrder.priceTTC}}"></td>
                <td th:text="${{purchaseOrder.remise}}"></td>
                <td th:text="${purchaseOrder.paymentMethod}"></td>
                <td th:text="${purchaseOrder.statutPurchase}"></td>
            </tr>
            </tbody>
<tfoot>
<tr>
    <td colspan="11"></td>
    <td colspan="1"><button data-bs-toggle="tooltip" data-bs-placement="top" title="Permet d'exporter la liste des bon de commande montée quotidiennement'" class="btn btn-success"><a th:href="@{/export-purchaseOrder-excel-by-date-present}">Excel</a></button></td>
</tr>
</tfoot>
        </table>


</div>




<div class="container" id="container_stock">


    <nav class="navbar navbar-expand-lg navbar-primary bg-primary rounded">
        <div class="container-fluid">

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedOrder" aria-controls="navbarSupportedOrder" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Ce qui est visible en grand écran  -->
            <div class="collapse navbar-collapse" id="navbarSupportedOrder">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item dropdown me-3">
                        <a class="nav-link dropdown-toggle" href="#" id="nav_bar_bc" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Bon de commande
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="nav_bar_bc">
                            <li><button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#validationBonDeCommande">Valider<span class="ms-2 badge bg-danger" th:text="${nb_bc_cf}"></span></button></li>

                        </ul>
                    </li>

                    <li class="nav-item dropdown me-3">
                        <a class="nav-link dropdown-toggle" href="#" id="nav_bar_appro" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Magasins
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="nav_bar_appro">
                            <li><button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#approMagasin">Approvisionnement</button></li>
                            <li><button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#sortirStock">Commander une fourniture</button></li>
                            <li><button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#classerLot">Classer les lots</button></li>

                        </ul>
                    </li>

                </ul>
                <div class="d-flex justify-content-end text-light fw-bolder fst-italic font-monospace">
                    VERON v-1.0
                </div>
            </div>

        </div>
    </nav>




    <div class="modal fade" id="classerLot" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="0">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-danger">
                    <h6 class="modal-title text-light" id="titlecLASSElOT">Approvisionner un magasin</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
<p>Souhaitez-vous classer les lots?</p>
                    <form th:action="@{/classLot}" method="post">
                        <button type="submit" class="btn btn-danger">Oui</button>
                    </form>

                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="validationBonDeCommande" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="0">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable" >
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <h6 class="modal-title text-light" id="titleBonCommande">Bon de commande</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                      <div class="row mb-3">
                          <div class="col-6">
                              <label for="bc" class="form-label">Bon de commande *</label>
                              <select name="" id="bc" class="form-select">
                                  <option selected disabled value="Sélectionner un bon de commande"></option>
                              </select>
                          </div>
                          <div class="col-6">
                              <label for="agencies" class="form-label">Agence *</label>
                              <input type="text" id="agencies" class="form-control" readonly>
                          </div>
                      </div>
                        <div class="row mb-3">
                            <div class="col-6">
                                <label for="date" class="form-label">Date *</label>
                                <input type="date" id="date" class="form-control" readonly>
                            </div>
                            <div class="col-6">
                                <label for="status" class="form-label">Statut *</label>
                                <input type="text" id="status" class="form-control" readonly>
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-6">
                                <label for="method" class="form-label">Paiement *</label>
                                <input type="text" id="method" class="form-control" readonly>
                            </div>
                            <div class="col-6">
                                <label for="priceH" class="form-label">Prix total *</label>
                                <input type="text" id="priceH" class="form-control" readonly>
                            </div>
                        </div>

                        <table class="table table-striped table-hover" id="table_stock">
                          <thead class="table-primary">
                          <tr>
                              <td>ref.</td>
                              <td>Produit</td>
                              <td>Quantité</td>
                              <td>Prix</td>
                              <td>Date de péremption</td>
                              <td>Nº Lot</td>
                              <td>Validé</td>
                          </tr>
                          </thead>
                          <tbody></tbody>
                        </table>

                    <form th:action="@{/purchase-stock}" method="post">
   <div class="d-none">
       <input type="text" name="refPurchaseOrder" id="refBC">
       <table class='table' id="tableOrder">
           <tbody>
           </tbody>
       </table>
   </div>

                        <div class="d-flex justify-content-center mb-3">
                            <button  class="btn btn-primary" id="btn_save">Enregistrer</button>
                        </div>
                                     </form>
                    
                </div>
            </div>
        </div>
    </div>




    <div class="modal fade" id="approMagasin" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="0">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <h6 class="modal-title text-light" id="titleApproMagasin">Approvisionner un magasin</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                    <div class="row mb-3">
                        <div class="col-3">
                        </div>
                        <div class="col-6">
                            <label for="agencyAppro" class="form-label">Agence *</label>
                            <select name="agency" id="agencyAppro" class="form-select">
                                <option selected disabled th:value="@{Sélectionner une agence}" th:text="@{Sélectionner une agence}"></option>
                                <option th:each="agency:${agencies}" th:value="${agency.name}" th:text="${agency.name}"></option>
                            </select>
                        </div>
                        <div class="col-3">
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="store01" class="form-label">Magasin de départ *</label>
                            <select type="text" id="store01" class="form-select">
                                <option selected disabled th:value="@{Sélectionner le magasin de départ}" th:text="@{Sélectionner le magasin de départ}"></option>
                            </select>
                        </div>
                        <div class="col-6">
                            <label for="store02" class="form-label">Magasin d'arrivé *</label>
                            <select type="text" id="store02" class="form-select">
                                <option selected disabled th:value="@{Sélectionner le magasin d'arrivé}" th:text="@{Sélectionner le magasin d'arrivé}"></option>
                            </select>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="productAppro" class="form-label">Produit *</label>
                            <select id="productAppro" class="form-select">
                                <option selected disabled th:value="@{Sélectionner un produit}" th:text="@{Sélectionner un produit}"></option>
                            </select>
                        </div>
                        <div class="col-6">
                            <label for="lotAppro" class="form-label">Lot *</label>
                            <select id="lotAppro" class="form-select">
                                <option selected disabled th:value="@{Sélectionner un lot}" th:text="@{Sélectionner un lot}"></option>
                            </select>
                        </div>

                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="stockAppro" class="form-label">Stock *</label>
                            <input type="number" id="stockAppro" class="form-control" readonly>
                        </div>
                        <div class="col-6">
                            <label for="quantityAppro" class="form-label">Quantité *</label>
                            <input type="number" id="quantityAppro" class="form-control">
                        </div>
                    </div>
                    <div class="d-flex justify-content-center mb-3">
                       <button class="btn btn-primary" id="btn_ajout_appro">Ajouter</button>
                    </div>
                    <table class="table table-striped table-hover" id="table_appro">
                        <thead class="table-primary">
                        <tr>
                            <td>ref.</td>
                            <td>Produit</td>
                            <td>Quantité</td>
                            <td>Lot</td>
                            <td>Agence</td>
                            <td>Action</td>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>

                    <form th:action="@{/purchase-stock-appro}" method="post">
                        <div class="d-none">
                            <input type="text" name="store01" id="store001">
                            <input type="text" name="store02" id="store002">
                            <input type="text" name="agency" id="agency001">

                            <table class='table' id="tableAppro">
                                <tbody>
                                </tbody>
                            </table>
                        </div>
<div class="d-flex justify-content-center">
    <button type="submit" class="btn btn-primary" id="btn_valid_appro">Enregistrer</button>
</div>
   </form>

                </div>
            </div>
        </div>
    </div>





    <div class="modal fade" id="sortirStock" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="0">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable" >
            <div class="modal-content">
                <div class="modal-header bg-primary">
                    <h6 class="modal-title text-light" id="titleSortirStock">Sortie fourniture</h6>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row mb-3">
                        <label for="agencySorti" class="form-label">Agence *</label>
                        <select name="agency" id="agencySorti" class="form-select">
                            <option selected disabled th:value="@{Sélectionner une agence}" th:text="@{Sélectionner une agence}">
                            <option th:each="agency:${agencies}" th:value="${agency.name}" th:text="${agency.name}"></option>
                        </select>
                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="storeSorti" class="form-label">Magasin *</label>
                            <select name="store" id="storeSorti" class="form-select">
                                <option selected disabled th:value="@{Sélectionner un magasin}" th:text="@{Sélectionner un magasin}"></option>
                            </select>
                        </div>
                        <div class="col-6">
                            <label for="productSorti" class="form-label">Produit *</label>
                            <select name="" id="productSorti" class="form-select">
                                <option selected disabled th:value="@{Sélectionner un produit}" th:text="@{Sélectionner un produit}"></option>
                            </select>
                        </div>

                    </div>
                    <div class="row mb-3">
                        <div class="col-6">
                            <label for="stockSorti" class="form-label">Stock *</label>
                            <input type="text" id="stockSorti" class="form-control" readonly>
                        </div>
                        <div class="col-6">
                            <label for="quantitySorti" class="form-label">Quantité *</label>
                            <input type="text" id="quantitySorti" class="form-control">
                        </div>
                    </div>
                    <div class="d-flex justify-content-center mb-3">
                        <button type="submit" class="btn btn-primary" id="btn_ajout_sorti">Ajouter</button>
                    </div>
                    <table class="table table-striped table-hover" id="table_sorti">
                        <thead class="table-primary">
                        <tr>
                            <td>ref.</td>
                            <td>Magasin</td>
                            <td>Produit</td>
                            <td>Quantité</td>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>

                    <form th:action="@{/purchase-stock-sorti}" method="post">
                        <div class="d-none">
                            <input type="text" name="agency" id="agency0001">
                            <input type="text" name="store" id="store0001">
                            <table class='table' id="tableSorti">
                                <tbody>
                                </tbody>
                            </table>
                        </div>

                        <div class="d-flex justify-content-center">
                            <button type="submit" class="btn btn-primary" id="btn_sorti">Enregistrer</button>
                        </div>
                            </form>

                </div>
            </div>
        </div>
    </div>


</div>









<div th:switch="${response}" id="toast_alert">
    <div th:case="@{Entreprise créé avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Pays non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Adresse Email incorrecte}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Cette entreprise existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Compense créée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Solde insuffisant}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Montant non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Entité destination non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Entité source non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Banque créée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>
    <div th:case="@{Compte créé avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Cette banque existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Nom de la banque non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Entreprise non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Pays non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce compte existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Banque non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Client/Fournisseur créé avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Adresse E-mail invalide}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Type de tiers non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Adresse E-mail non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Nº téléphone non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Entreprise non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Pays non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Nom client non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Cette adresse e-mail est utilisé par un autre client}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce numéro est utilisé par un autre client}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Cette adresse e-mail est déjà utilisé par un autre client}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce téléphone est déjà utilisé par un autre client}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Mise à jour effectuée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Famille de dépense créée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>


    <div th:case="@{Famille de dépense non renseignée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Cette famille existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Dépense créée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Famille de dépenses non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>


    <div th:case="@{Nom de la dépense non renseignée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Cette dépense existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Produit créé avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>


    <div th:case="@{La date de péremption doit être postérieure à la date du jour}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Le prix de  vente ne doit pas être null}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Le prix d'achat ne doit pas être null}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Catégorie non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Entreprise non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Nom du produit non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce produit existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Catégorie de service créée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>


    <div th:case="@{Cette catégorie existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Catégorie non renseignée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Service créé avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Entreprise non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>


    <div th:case="@{Service non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce service existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Mise à jour effectuée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce prix est déjà présent}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce service n'existe pas}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Agence créé avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Entreprise non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ville non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Région non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Pays non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Nom de l'agence non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Cette agence existe déjà}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Agence supprimée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Agence introuvable}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Caisse créée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Utilisateur assigné avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Agence non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Seul un caissier peut avoir une caisse}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Rôle non assigné à ce caissier}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Utilisateur non affecté}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Caisse non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Agence non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Magasin créé avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{entreprise non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Agence non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{nom du magasin non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Un magasin porte déjà ce nom}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Employé créé avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>


    <div th:case="@{Ce nº de téléphone est déjà utilisé par un autre utilisateur}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Agence non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Entreprise non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Rôle de l'employé non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{les mots de passe ne sont pas identiques}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Le mot de passe doit contenir au moins un caractère spécial}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Le mot de passe doit contenir au moins 8 caractères}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Mot de passe non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Nº de téléphone non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Nom complet de l'employé non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{adresse e-mail non renseigné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Cet adresse e-mail est utilisé par un autre utilisateur}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Utilisateur introuvable}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Mise à jour effectué avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce numéro de téléphone est utilisé par un autre utilisateur}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Utilisateur affecté avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Ce utilisateur est déjà présent dans un autre magasin, bv effectuer un transfet inter-magasin}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Utilisateur transféré}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Achat effectué avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>


    <div th:case="@{Solde caisse insuffisant pour effectuer cette opération}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Caisse non trouvée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Méthode de paiement non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Commande validée avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Agence non sélectionnée}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Magasin de départ non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Magasin d'arrivée non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Produit non sélectionné}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Magasin de départ introuvable}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Magasin d'arrivée introuvable}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Lot/Magasin inexistant}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Approvisionnement effectué avec succès}" class="alert alert-success alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Crédit insuffisant}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

    <div th:case="@{Stock insuffisant, bv approvisionner un de vos magasin}" class="alert alert-danger alert-dismissible p-3" role="alert" th:text="${response}">
    </div>

</div>

<footer class="text-center bg-primary">
    © VERON v-1.0 - POWERED BY KWADJIO NANA Roméo Yannick
</footer>
<script th:src="@{/js/purchase.js}"></script>
<script th:src="@{/js/all.js}"></script>
<script>

    (function () {
   'use strict'

     // Fetch all the forms we want to apply custom Bootstrap validation styles to
     var forms = document.querySelectorAll('.needs-validation')

     // Loop over them and prevent submission
     Array.prototype.slice.call(forms)
       .forEach(function (form) {
         form.addEventListener('submit', function (event) {
           if (!form.checkValidity()) {
             event.preventDefault()
             event.stopPropagation()
           }

           form.classList.add('was-validated')
         }, false)
       })
   })()
</script>
<script>



    $(document).ready(function () {
        $('#table_purchase').DataTable({
          "paging": true,       // Activer la pagination
          "searching": true,    // Activer la recherche (filtrage)
          "ordering": true,     // Activer le tri sur les colonnes
          "info": true,         // Afficher les informations de pagination
  "url": "//cdn.datatables.net/plug-ins/1.13.5/i18n/French.json"
        });
      });


</script>

</body>
</html>


